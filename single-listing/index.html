<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Listings" />
    <link rel="icon" type="image/x-icon" href="/images/logo-nobackground.png" />
    <link rel="stylesheet" href="/dist/css/index.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="/scripts/singleListingPage.js"></script>
    <script type="module" src="/scripts/utils/logout.js"></script>
    <script type="module" src="/scripts/addListing.js"></script>

    <script
      src="https://kit.fontawesome.com/40355c2075.js"
      crossorigin="anonymous"
    ></script>
    <title>BidBay | Linsting</title>
  </head>
  <body class="bg-success">
    <header class="bg-info fixed-top">
      <div class="d-flex justify-content-between px-1 py-1">
        <nav class="navbar navbar-expand-lg">
          <div class="container-fluid">
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li>
                  <a href="/" class="nav-link" id="logout-button">Logout </a>
                </li>
                <li><a href="/profile/" class="nav-link">Profile </a></li>
                <li><a class="nav-link" href="/listings/">Listings</a></li>
                <li>
                  <a
                    href=""
                    class="nav-link"
                    data-bs-toggle="modal"
                    data-bs-target="#newPostModal"
                    >New Listing
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <div class="col d-flex justify-content-center mt-5">
        <img
          class="mt-5"
          src="/images/logo-nobackground.png"
          alt="BidBay logo"
          width="150"
          height="150"
        />
      </div>

      <div class="container">
        <div
          class="row d-flex justify-content-center my-4"
          id="listing-display"
        >
          <div class="text-center">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Edit listing modal -->
      <div
        class="modal fade"
        id="editPostModal"
        tabindex="-1"
        aria-labelledby="editPostModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center w-100" id="editPostModalLabel">
                Edit listing
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form id="editPostForm">
                <div class="mb-3">
                  <label for="edit-post-title" class="form-label">Title</label>
                  <input
                    type="text"
                    class="form-control"
                    name="edit-post-title"
                    id="edit-post-title"
                    required
                    placeholder="Item title"
                  />
                </div>
                <div class="mb-3">
                  <label for="edit-post-description" class="form-label"
                    >Description</label
                  >
                  <textarea
                    class="form-control"
                    name="edit-post-description"
                    id="edit-post-description"
                    placeholder="Describe your item"
                    maxlength="280"
                    rows="5"
                  ></textarea>
                  <div id="count" class="text-muted">
                    Characters remaining: 280
                  </div>
                </div>
                <div class="mb-3">
                  <label for="edit-post-tags" class="form-label">Tags</label>
                  <input
                    type="text"
                    class="form-control"
                    name="edit-post-tags"
                    id="edit-post-tags"
                    placeholder="Add tags"
                  />
                </div>
                <div class="mb-3">
                  <label for="edit-post-media" class="form-label">Media</label>
                  <input
                    type="url"
                    class="form-control"
                    name="edit-post-media"
                    id="edit-post-media"
                    placeholder="Paste your image URL"
                  />
                </div>
                <div class="mb-3">
                  <label for="edit-deadline" class="form-label">Deadline</label>
                  <input
                    type="datetime-local"
                    class="form-control"
                    name="edit-deadline"
                    id="edit-deadline"
                    required
                  />
                </div>
                <div class="text-danger text-center" id="edit-error"></div>
                <button
                  class="btn btn-lg bg-primary px-5 text-white d-flex"
                  type="submit"
                  id="submit-btn"
                >
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- Edit listing modal -->

      <!-- New listing modal -->
      <div
        class="modal fade"
        id="newPostModal"
        tabindex="-1"
        aria-labelledby="newPostModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center w-100" id="newPostModalLabel">
                Create a new listing
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form id="newPostForm">
                <div class="mb-3">
                  <label for="post-title" class="form-label">Title</label>
                  <input
                    type="text"
                    class="form-control"
                    name="post-title"
                    id="post-title"
                    required
                    placeholder="Item title"
                  />
                </div>
                <div class="mb-3">
                  <label for="post-description" class="form-label"
                    >Description</label
                  >
                  <textarea
                    class="form-control"
                    name="post-description"
                    id="post-description"
                    placeholder="Describe your item"
                    maxlength="280"
                    rows="5"
                  ></textarea>
                  <div id="char-count" class="text-muted">
                    Characters remaining: 280
                  </div>
                </div>
                <div class="mb-3">
                  <label for="post-tags" class="form-label">Tags</label>
                  <input
                    type="text"
                    class="form-control"
                    name="post-tags"
                    id="post-tags"
                    placeholder="Add tags"
                  />
                </div>
                <div class="mb-3">
                  <label for="post-media" class="form-label">Media</label>
                  <input
                    type="url"
                    class="form-control"
                    name="post-media"
                    id="post-media"
                    placeholder="Paste your image URL"
                  />
                </div>
                <div class="mb-3">
                  <label for="deadline" class="form-label">Deadline</label>
                  <input
                    type="datetime-local"
                    class="form-control"
                    name="deadline"
                    id="deadline"
                    required
                  />
                </div>
                <div class="text-danger text-center" id="post-error"></div>
                <button
                  class="btn btn-lg bg-primary px-5 text-white d-flex"
                  type="submit"
                  id="submit-post-btn"
                >
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- New listing modal -->
    </main>
    <!-- Footer -->
    <footer class="footer bg-info text-center py-2">
      <div class="p-2 d-flex justify-content-center gap-4">
        <a href="https://www.instagram.com/" aria-label="instagram">
          <i
            class="fa-brands fa-square-instagram fa-2xl"
            style="color: #000000"
          ></i>
        </a>
        <a href="https://twitter.com/" aria-label="twitter">
          <i
            class="fa-brands fa-square-x-twitter fa-2xl"
            style="color: #000000"
          ></i>
        </a>
        <a href="https://www.facebook.com/" aria-label="facebook">
          <i
            class="fa-brands fa-square-facebook fa-2xl"
            style="color: #000000"
          ></i>
        </a>
        <a href="https://www.threads.net/" aria-label="threads">
          <i
            class="fa-brands fa-square-threads fa-2xl"
            style="color: #000000"
          ></i>
        </a>
      </div>
      Copyright &copy; 2024 BidBay Online Auction
    </footer>
  </body>
</html>
